## 为什么要有原形链

想象你是一个造物主，你创造了:

人类: 小红，小明．小黑三个人；

毛毛，旺财，bobby三条狗；



1. 创造他们的部分代码分别是

```
var 小红 = {
	englishName: xiaohong 
	head: 1,
	foot: 1,
	body: 1,
	eating: function() eating{},
	running: function() running{},
	saying: function() saying{},
	learning: function() learn{},
	buying: function() buy{},
}

var 小明 = {
	englishName: xiaoming 
	head: 1,
	foot: 1,
	body: 1,
	eating: function() eating{},
	running: function() running{},
	saying: function() saying{},
	learning: function() learn{},
	buying: function() buy{},
}

var 小黑 = {
	englishName: xiaohei
	head: 1,
	foot: 1,
	body: 1,
	eating: function() eating{},
	running: function() running{},
	saying: function() saying{},
	learning: function() learn{},
	buying: function() buy{},
}

var 毛毛 = {
	engLishName: maomao,
	color: balck,
	body: 1,
	longHair: true,
	eating: function() eating{},
	running: function() running{},
	saying: function() saying{}
}
var 旺财 = {
	engLishName: wangcai,
	color: white,
	body: 1,
	longHair: true,
	eating: function() eating{},
	running: function() running{},
	saying: function() saying{}
}
var bobby = {
	engLishName: bobby,
	color: red,
	body: 1,
	longHair: true,
	eating: function() eating{},
	running: function() running{},
	saying: function() saying{}
}

```



2. 第一次优化(将相同种类的共同动作放到一起,组成一个对象):

   把小红,小明,小黑的共同的方法放在一个对象中,取名为人的共同动作

   把毛毛,旺财,bobby的共同方法放在一个对象中,取名为狗的共同动作

```
var 人的共同动作 = {
  	eating: function() eating{},
	running: function() running{},
	saying: function() saying{},
	learning: function() learn{},
	buying: function() buy{},
}
var 狗的共同动作 = {
  	eating: function() eating{},
	running: function() running{},
	摇尾巴: function() 摇尾巴{},
	看家: function() 看家{},
}

var 小红 = {
	englishName: xiaohong 
	head: 1,
	foot: 1,
	body: 1,
	人的共同动作
}

var 小明 = {
	englishName: xiaoming 
	head: 1,
	foot: 1,
	body: 1,
	人的共同动作
}

var 小黑 = {
	englishName: xiaohei
	head: 1,
	foot: 1,
	body: 1,
	人的共同动作
}

var 毛毛 = {
	engLishName: maomao,
	color: balck,
	body: 1,
	longHair: true,
	狗的共同动作
}
var 旺财 = {
	engLishName: wangcai,
	color: white,
	body: 1,
	longHair: true,
	狗的共同动作
}
var bobby = {
	engLishName: bobby,
	color: red,
	body: 1,
	longHair: true,
	狗的共同动作
}
```



看着人的共同动作和狗的共同动作,觉得不对呀,两个对象又有相同的动作,因此进行优化

3. 第二次代码优化:

   ```
   var 生物的共同动作 = {
       eating: function() eating{},
   	running: function() running{},
   }

   var 人的共同动作 = {
   	动物的共同动作,
   	saying: function() saying{},
   	learning: function() learn{},
   	buying: function() buy{},
   }
   var 狗的共同动作 = {
   	动物的共同动作,
   	摇尾巴: function() 摇尾巴{},
   	看家: function() 看家{},
   }

   var 小红 = {
   	englishName: xiaohong 
   	head: 1,
   	foot: 1,
   	body: 1,
   	人的共同动作
   }

   var 小明 = {
   	englishName: xiaoming 
   	head: 1,
   	foot: 1,
   	body: 1,
   	人的共同动作
   }

   var 小黑 = {
   	englishName: xiaohei
   	head: 1,
   	foot: 1,
   	body: 1,
   	人的共同动作
   }

   var 毛毛 = {
   	engLishName: maomao,
   	color: balck,
   	body: 1,
   	longHair: true,
   	狗的共同动作
   }
   var 旺财 = {
   	engLishName: wangcai,
   	color: white,
   	body: 1,
   	longHair: true,
   	狗的共同动作
   }
   var bobby = {
   	engLishName: bobby,
   	color: red,
   	body: 1,
   	longHair: true,
   	狗的共同动作
   }
   ```



但是有点语法问题呀,代码应该是哈希类型,你不符合呀

4. 第三次代码优化

   ```
   var 生物的共同动作 = {
       eating: function() eating{},
   	running: function() running{},
   }

   var 人的共同动作 = {
   	共同动作: 动物的共同动作,
   	saying: function() saying{},
   	learning: function() learn{},
   	buying: function() buy{},
   }
   var 狗的共同动作 = {
   	共同动作: 动物的共同动作,
   	摇尾巴: function() 摇尾巴{},
   	看家: function() 看家{},
   }

   var 小红 = {
   	englishName: xiaohong 
   	head: 1,
   	foot: 1,
   	body: 1,
   	共同动作: 人的共同动作
   }

   var 小明 = {
   	englishName: xiaoming 
   	head: 1,
   	foot: 1,
   	body: 1,
   	共同动作: 人的共同动作
   }

   var 小黑 = {
   	englishName: xiaohei
   	head: 1,
   	foot: 1,
   	body: 1,
   	共同动作: 人的共同动作
   }

   var 毛毛 = {
   	engLishName: maomao,
   	color: balck,
   	body: 1,
   	longHair: true,
   	共同动作: 狗的共同动作
   }
   var 旺财 = {
   	engLishName: wangcai,
   	color: white,
   	body: 1,
   	longHair: true,
   	共同动作: 狗的共同动作
   }
   var bobby = {
   	engLishName: bobby,
   	color: red,
   	body: 1,
   	longHair: true,
   	共同动作: 狗的共同动作
   }
   ```

   现在,总结一下上面的例子与JavaScript对应

   1.  小红，小明．小黑，毛毛，旺财，bobby === 实例
   2.  狗类,人类 === 数据类型
   3.  生物 === Object数据类型
   4.  共同动作=== prototype(当共同动作的对象是类)
   5.  共同动作 === \__proto__(当共同动作的对象是实例)

   所以，为什么要有原形链呢？我的理解是这样的：

   1. JavaScript中，许多情况下要使用对象，如果是对象独有的属性和方法，那么就把独有的属性和方法直接放到对象中
   2. 如果是共有的属性和方法，那么就在对象放`key: value`
   3. 如果对象是实例，那么`key`为`__proto__`
   4. 如果对象为类型，那么`key`为`prototype`和`__proto__`（一般不研究）
   5. `value`是一个heap的地址





## 原形链指向问题

只须知道以下知识点

1. `实例.__proto__ === 构造函数.prototype`
2. 构造函数只能从`Function,String,Boolean,Object,Number`选择
3. `String,Boolean,Number`既是构造函数，也是实例
4. `String,Boolean,Number`是实例的时候，构造函数是`Object`
5. `Function`是实例的时候，构造函数竟然是`Function`
6. ​

## 草稿

1. 选区008,为什么window会写在heap里面?

2. `(1).toString()`的()是什么意思

3. ```
   var n = 1
   n.toString()可以成功的原因?
   临时创建一个变量temp,让temp = new Number('1'),并且完成toString()之后就立即销毁temp
   ```

4. ```
   var f1 = false
   var f2 = new Boolean()
   if(f1){console.log(111)}
   if(f2){console.log(222)}
   ```

5. ```
   var obj = {}
   var obj1 = new Object()
   obj === obj1??
   ```

6. 我可以用什么方法打印出return所在方框的代码? 

7. return方框的_proto\_指谁?

8. 既然String的公用属性是String.prototype,那么String还有其他什么属性?或者说,对于String这个对象来说,除了prototype这个属性,还有什么属性?是不是String只有一个属性,那就是prototype!

9. 只把Function,String,Boolean,Object,Number当成是构造函数

10. 只把实例,Function.prototype,String.prototype,Boolean.prototype,Object.prototype,Number.prototype当成是对象

11. `对象.__proto__ === 构造函数.prototype`

12. 注意,只认为对象有\__proto__,只认为构造函数有prototype,并且构造函数的范围只能是5个（Function,String,Boolean,Object,Number）之一.

13. 某函数，Function类型，Object类型的区别

    如果把某函数看成对象，那么某函数.\__proto__ === Function.prototype(这是正常的)

    如果把Fucntion看成对象，那么Fucntion.\__proto__ === Function.prototype(如果把Function.prototype改成Object.prototype就正常了，这是唯一不正常的，即Function类型的构造函数竟然是Function，而不是Object)

    ​

